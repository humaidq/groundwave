{{ template "head" . }}

{{ if .Breadcrumbs }}
<nav class="breadcrumb" aria-label="Breadcrumb">
  {{ range $i, $b := .Breadcrumbs }}
    {{ if $i }}<span class="breadcrumb-separator">&gt;</span>{{ end }}
    {{ if $b.IsCurrent }}
      <span class="breadcrumb-current">{{ $b.Name }}</span>
    {{ else }}
      <a href="{{ $b.URL }}" class="breadcrumb-item">{{ $b.Name }}</a>
    {{ end }}
  {{ end }}
</nav>
{{ end }}

<div class="page-header">
  <h2>Edit Tag: {{ .Tag.Name }}</h2>
</div>

{{ if .Error }}
<div class="alert alert-red">{{ .Error }}</div>
{{ end }}

<form method="POST" action="/tags/{{ .Tag.ID }}/edit">
  <input type="hidden" name="_csrf" value="{{ .csrf_token }}" />
  <div class="form-group">
    <label for="name">Tag Name</label>
    <input type="text" name="name" id="name" value="{{ .Tag.Name }}" required class="form-item">
    <p class="muted-text">Note: Tag names are normalized to lowercase. Use colons for namespacing (e.g., "event:conference-2024").</p>
  </div>

  <div class="form-group">
    <label for="description">Description (optional)</label>
    <textarea name="description" id="description" rows="3" class="form-item">{{ .Tag.Description }}</textarea>
  </div>

  <div class="form-actions">
    <button type="submit" class="btn">Save Changes</button>
    <a href="/tags" class="btn">Cancel</a>
  </div>
</form>

{{ template "foot" . }}
